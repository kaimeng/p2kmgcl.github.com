<!DOCTYPE html>
<html lang="es">
<head>	<meta charset="utf-8" />
	<title>					Obteniendo una web mediante un script | 
				Pablo Molina | Piensa, inventa, comparte
	</title>
	<meta name="viewport" content="width=device-width"/>

	<link href="http://feeds.p2kmgcl.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="p2kmgcl Full RSS Feed" />	<link href="http://feeds.p2kmgcl.com/feeds/main.rss.xml" type="application/rss+xml" rel="alternate" title="p2kmgcl RSS Feed" />	<link href="http://feeds.p2kmgcl.com/feeds/category-General.rss.xml" type="application/rss+xml" rel="alternate" title="p2kmgcl Categories RSS Feed" />	
	<link rel="stylesheet" href="../../theme/styles/codehilite.css" />
	<link rel="stylesheet" href="../../theme/styles/font-awesome.min.css" />
	<link rel="stylesheet" href="../../theme/styles/font-awesome-ie7.min.css" />
	<link rel="stylesheet" href="../../theme/styles/themes/loremipsum.css" />

	<script src="../../theme/scripts/vendor/prefixfree.min.js"></script>
</head>

<body>
	<article class="alert">
		<i class="icon-info-sign"></i>
		<i class="icon-remove-sign"></i>
		<h1>Bienvenido a mi web</h1>
		Todavía estoy terminando la mudanza desde blogger, así que faltan algunas entradas. Si echas en falta algo, busca en <a href="http://p2kmgcl.blogspot.com" target="_blank">mi antiguo blog</a>.
	</article>
	<header id="mainHeader">
		<h1><a href="../..">p2kmgcl</a></h1>
		<nav id="mainMenu">
			<h1>Menú principal</h1>
			<ul>
				<li >
					<i class="icon-home"></i>
					<a href="../..">Index</a>
				</li>
				
															<li><i class="icon-user"></i><a href="../../pages/contact.html">¿Quien soy?</a></li>
											<li><i class="icon-file-alt"></i><a href="../../pages/curriculum.html">Currículum</a></li>
												</ul>
		</nav>
	</header>

	<aside id="mainSidebar">
		<div id="vcard">
			<h1>¿Quién soy?</h1>
			<figure class="profile">
				<img alt="Foto de perfil de Pablo Molina" title="Foto de perfil de Pablo Molina" src="http://dl.dropbox.com/u/6037255/perfil_75x75.jpg" width="75" height="75" />
				<figcaption>Pablo Molina</figcaption>
			</figure>
			<ul class="social">
									<li class="Google+">
						<i class="icon-google-plus"></i>
						<a href="https://plus.google.com/117214944861012231268/" target="_blank">Google+</a>
					</li>
									<li class="GitHub">
						<i class="icon-github"></i>
						<a href="https://github.com/p2kmgcl" target="_blank">GitHub</a>
					</li>
									<li class="Twitter">
						<i class="icon-twitter"></i>
						<a href="https://twitter.com/#!/p2kmgcl" target="_blank">Twitter</a>
					</li>
									<li class="Facebook">
						<i class="icon-facebook"></i>
						<a href="https://www.facebook.com/p2kmgcl" target="_blank">Facebook</a>
					</li>
									<li class="LinkedIn">
						<i class="icon-linkedin"></i>
						<a href="http://es.linkedin.com/pub/pablo-molina/34/b06/180" target="_blank">LinkedIn</a>
					</li>
									<li class="LastFm">
						<i class="icon-music"></i>
						<a href="http://www.lastfm.es/user/p2kmgcl" target="_blank">LastFm</a>
					</li>
									<li class="DeviantArt">
						<i class="icon-pencil"></i>
						<a href="http://p2kmgcl.deviantart.com/" target="_blank">DeviantArt</a>
					</li>
									<li class="Youtube">
						<i class="icon-facetime-video"></i>
						<a href="http://www.youtube.com/p2kmgcl" target="_blank">Youtube</a>
					</li>
							</ul>
		</div>
	</aside>    <section id="mainContent">
        <h1>Contenido principal</h1>
        <article class="entry single General cover">
            <header class="entryHeader">
                <h1 class="title">Obteniendo una web mediante un script</h1>
                <abbr class="published" title="2011-10-11T00:00:00">11/10/2011</abbr>
                    
                                    <figure class="cover"><img src="http://2.bp.blogspot.com/-DgtTMiS-bQs/TpGj7b5BayI/AAAAAAAAAWg/vT5pduqc3Zk/s320/code-is-poetry.jpg" alt="Texto 'Code is Poetry' sobre fondo negro" title="Texto 'Code is Poetry' sobre fondo negro" /></figure>
                            </header>
            <section class="entryContent">
                <p>Hoy mi novia me ha dicho que estaba copiando el texto de una web para que su padre tuviera unos apuntes offline en un documento de texto. Sorpresa la mía cuando he visto que dicha web tenía 11 secciones, y cada sección tenía unos 30 capítulos dentro (vamos que estaba mas cerca de quedarse sin mano que de copiarla entera).</p>
<p>El caso es que he visto que la url tenía siempre la misma estructura, así que he hecho un script que le ha descargado la estructura de documentos para poder leerlos sin problemas:</p>
<div class="codehilite"><pre><span class="c">#!/bin/csh</span>

@ <span class="nv">seccion</span> <span class="o">=</span> 1
@ <span class="nv">capitulo</span> <span class="o">=</span> 1
<span class="nb">set </span><span class="nv">url1</span> <span class="o">=</span> <span class="s2">&quot;http://www.eccpn.aibarra.org/temario/seccion&quot;</span>
<span class="nb">set </span><span class="nv">url2</span> <span class="o">=</span> <span class="s2">&quot;/capitulo&quot;</span>
<span class="nb">set </span><span class="nv">url3</span> <span class="o">=</span> <span class="s2">&quot;/capitulo&quot;</span>
<span class="nb">set </span><span class="nv">url4</span> <span class="o">=</span> <span class="s2">&quot;.htm&quot;</span>

<span class="k">while</span> <span class="o">(</span> <span class="nv">$seccion</span> &lt; 15 <span class="o">)</span>
    mkdir <span class="s2">&quot;Seccion $seccion&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;Sec $seccion&quot;</span>
    @ <span class="nv">capitulo</span> <span class="o">=</span> 1
    <span class="k">while</span> <span class="o">(</span> <span class="nv">$capitulo</span> &lt; 200 <span class="o">)</span>
        <span class="nb">echo</span> <span class="s2">&quot;Cap $capitulo&quot;</span>
        wget --quiet <span class="k">${</span><span class="nv">url1</span><span class="k">}${</span><span class="nv">seccion</span><span class="k">}${</span><span class="nv">url2</span><span class="k">}${</span><span class="nv">capitulo</span><span class="k">}${</span><span class="nv">url3</span><span class="k">}${</span><span class="nv">capitulo</span><span class="k">}${</span><span class="nv">url4</span><span class="k">}</span> -O <span class="s2">&quot;Seccion ${seccion}/Capitulo${capitulo}.htm&quot;</span>
        @ <span class="nv">capitulo</span> <span class="o">=</span> <span class="nv">$capitulo</span> + 1
    end
    @ <span class="nv">seccion</span> <span class="o">=</span> <span class="nv">$seccion</span> + 1
end
</pre></div>
            </section>
            <footer class="entryFooter">
                <section class="tags">
                    <h1><i class="icon-tags"></i>Etiquetas</h1>
                    <ul>                        <li><a href="../../tag/cshell.html">CShell</a></li>
                                            <li><a href="../../tag/programacion.html">Programación</a></li>
                                            <li><a href="../../tag/script.html">Script</a></li>
                    </ul>
                </section>
                <section class="comments">
                    <h1>Comentarios</h1>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_shortname = 'p2kmgcl',
                            disqus_identifier = '/2011/10/code-is-poetry.html';
                        (function() {
                            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                </section>
            </footer>
        </article>
    </section>
    <footer id="mainFooter">        <section id="license">
            <h1>Licencia</h1>
            <figure>
                <img src="http://i.creativecommons.org/l/by/3.0/88x31.png" alt="Licencia Creative Commons By" title="Licencia Creative Commons By" />
                <figcaption>Todo esto es tuyo, tan solo recuerda mi nombre.</figcaption>
            </figure>
        </section>
        <section id="ownerInfo">
            <h1>Propietario</h1>
            <span>Administrador, propietario y diseñador: Pablo Molina &lt;<a href="mailto:p2kmgcl@gmail.com">p2kmgcl@gmail.com</a>&gt;.</span>
        </section>
        <section id="webTags">
            <h1>Etiquetas de la web</h1>
            <ul>
                <li><a href="http://www.w3.org/html/logo/"><img src="http://www.w3.org/html/logo/badge/html5-badge-h-css3-graphics-performance-semantics.png" width="229" height="64" alt="HTML5 Powered with CSS3 / Styling, Graphics, 3D &amp; Effects, Performance &amp; Integration, and Semantics" title="HTML5 Powered with CSS3 / Styling, Graphics, 3D &amp; Effects, Performance &amp; Integration, and Semantics"></a></li>
                <li><a href="http://jigsaw.w3.org/css-validator/check/referer"><img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="¡CSS Válido!" /></a></li>
            </ul>
        </section>
    </footer>

    <script src="../../theme/scripts/vendor/modernizr.min.js"></script>
    <script src="../../theme/scripts/vendor/jquery.min.js"></script>
    <script src="../../theme/scripts/main.js"></script>
</body>
</html>